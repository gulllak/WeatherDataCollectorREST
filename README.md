# WeatherDataCollectorREST
REST API is a service for collecting and storing weather data from sensors.

There are 4 addresses in the application:
1) Sensor registration
   http://localhost:8080/sensors/registration

2) Adding a measurement from the sensor
   http://localhost:8080/measurements/add

3) Getting all measurements
   http://localhost:8080/measurements

4) Getting the number of rainy days
   http://localhost:8080/measurements/rainyDaysCount

#### A POST request to add a sensor is accepted in the following format:

    {
    "name": "nameOfSensor"
    }

* the sensor name must not be empty
* the sensor name must not contain less than 3 or more than 30 characters
* the sensor name must be unique

#### A POST request to add data that came from the sensor is accepted in the following format:

    {
        "value": "temperature",
        "raining": "trueORfalse",
        "sensor": {
            "name": "nameOfSensor"
        }
    }

* the value must not be empty
* the value must contain from -100 to 100 degrees
* raining should not be empty
* sensor name should not be empty
* the sensor must have been added earlier

SQL:

    CREATE TABLE Sensor(
    id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name varchar(100) NOT NULL UNIQUE
    );
    
    CREATE TABLE Measurement(
    id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    sensor_name varchar(100) REFERENCES Sensor(name) ON DELETE CASCADE NOT NULL,
    "value" double precision NOT NULL,
    raining boolean NOT NULL,
    measurement_time timestamp not null
    );